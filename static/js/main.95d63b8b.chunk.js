(this["webpackJsonpreact-hw-02-phonebook"]=this["webpackJsonpreact-hw-02-phonebook"]||[]).push([[0],{12:function(e,n,t){e.exports=t(22)},17:function(e,n,t){},22:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(8),o=t.n(r),s=(t(17),t(1)),l=t(2);function i(){const e=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 0;\n    padding: 10px;\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.75);\n    border-radius: 2px;\n    background: white;\n\n    > * {\n        margin-top: 10px;\n\n        &:first-child {\n            margin-top: 0;\n        }\n    }\n"]);return i=function(){return e},e}const u=l.a.div(i()),m=({tag:e="div",children:n,...t})=>c.a.createElement(u,Object.assign({as:e},t),n);function b(){const e=Object(s.a)(["\n    margin-top: 5px;\n    padding: 5px;\n\n    &:first-child {\n        margin-top: 0;\n    }\n"]);return b=function(){return e},e}function d(){const e=Object(s.a)([""]);return d=function(){return e},e}function p(){const e=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return p=function(){return e},e}const f=l.a.label(p()),g=l.a.span(d()),E=l.a.input(b()),h=({label:e,value:n,disabled:t,onChange:a,name:r,type:o,labelProps:s,inputProps:l})=>c.a.createElement(f,s,e&&c.a.createElement(g,null,e),c.a.createElement(E,Object.assign({value:n,onChange:a,disabled:t,name:r,type:o},l)));function C(){const e=Object(s.a)(["\n    padding: 5px;\n"]);return C=function(){return e},e}const O=l.a.button(C()),j=({children:e,...n})=>c.a.createElement(O,n,e);var T=t(24);const x={search:"",contacts:[]};let y;!function(e){e.SET_CONTACTS="SET_CONTACTS",e.CREATE_CONTACT="CREATE_CONTACT",e.DELETE_CONTACT="DELETE_CONTACT",e.SET_SEARCH="SET_SEARCH"}(y||(y={}));const w=(e,n)=>{switch(n.type){case y.SET_CONTACTS:return{...e,contacts:n.payload.contacts};case y.CREATE_CONTACT:return{...e,contacts:[...e.contacts,{id:Object(T.a)(),name:n.payload.name,number:n.payload.number}]};case y.DELETE_CONTACT:return{...e,contacts:[...e.contacts.filter(({id:e})=>e!==n.payload.id)]};case y.SET_SEARCH:return{...e,search:n.payload.search};default:return e}},v=c.a.createContext({...x,dispatch:()=>0}),k=()=>{const{contacts:e,dispatch:n}=Object(a.useContext)(v),[t,r]=Object(a.useState)(""),[o,s]=Object(a.useState)(""),l=Object(a.useCallback)(e=>r(e.target.value.trim()),[r]),i=Object(a.useCallback)(e=>s(e.target.value.trim()),[s]),u=Object(a.useCallback)(t=>{t.preventDefault();const a=t.target.name.value.trim().replace(/\s{2,}/g," "),c=t.target.number.value.trim();if(!a||!c)return;e.some(({name:e})=>a.toLowerCase()===e.toLowerCase())?alert("".concat(a," is already in your contacts")):(n({type:y.CREATE_CONTACT,payload:{name:a,number:c}}),r(""),s(""))},[e,n]);return c.a.createElement(m,{tag:"form",autoComplete:"off",onSubmit:u},c.a.createElement(h,{label:"Name",name:"name",value:t,onChange:l}),c.a.createElement(h,{label:"Number",name:"number",value:o,onChange:i}),c.a.createElement(j,{disabled:!t||!o},"Add contact"))};var S=t(5);const A=()=>{const{contacts:e,dispatch:n}=Object(a.useContext)(v),[t,r]=Object(a.useState)(""),o=Object(a.useCallback)(Object(S.debounce)(e=>n({type:y.SET_SEARCH,payload:{search:e.target.value.trim()}}),200),[S.debounce]),s=Object(a.useCallback)(e=>{e.persist(),r(e.target.value.trim()),o(e)},[o]);return Object(a.useEffect)(()=>{!e.length&&t&&r("")},[e,t,r]),c.a.createElement(m,null,c.a.createElement(h,{label:"Find contacts by name",value:t,onChange:s,disabled:!e.length}))};function N(){const e=Object(s.a)(["\n    margin-left: auto;\n"]);return N=function(){return e},e}function _(){const e=Object(s.a)(["\n    margin-left: auto;\n"]);return _=function(){return e},e}function L(){const e=Object(s.a)([""]);return L=function(){return e},e}function R(){const e=Object(s.a)(["\n    flex-direction: row;\n    align-items: center;\n\n    > * {\n        margin: 0;\n    }\n"]);return R=function(){return e},e}const D=Object(l.a)(u)(R()),H=l.a.span(L()),J=l.a.span(_()),P=Object(l.a)(O)(N()),z=({id:e,name:n,number:t,onContactDelete:a})=>c.a.createElement(D,{as:"li"},c.a.createElement(H,null,n),c.a.createElement(J,null,t),c.a.createElement(P,{"data-id":e,onClick:e=>{a(e.currentTarget.getAttribute("data-id"))}},"Delete"));function F(){const e=Object(s.a)(["\n    margin: 0;\n    padding: 0;\n    box-shadow: none;\n    border-radius: 0;\n    background: 0;\n"]);return F=function(){return e},e}const I=Object(l.a)(u)(F());function M(){const e=Object(s.a)(["\n    justify-content: center;\n"]);return M=function(){return e},e}const B=Object(l.a)(D)(M()),W=({message:e})=>c.a.createElement(B,{as:"li"},e),$=()=>{const{search:e,contacts:n,dispatch:t}=Object(a.useContext)(v),r=Object(a.useCallback)(e=>t({type:y.DELETE_CONTACT,payload:{id:e}}),[t]),o=Object(a.useMemo)(()=>n.filter(({name:n})=>n.toLocaleLowerCase().includes(e.toLocaleLowerCase())),[e,n]);return c.a.createElement(I,{as:"ul"},o.length?o.map(({id:e,name:n,number:t})=>c.a.createElement(z,{key:e,id:e,name:n,number:t,onContactDelete:r})):c.a.createElement(W,{message:"Nothing to show"}))};function q(){const e=Object(s.a)(["\n    margin: 0 0 20px;\n"]);return q=function(){return e},e}function G(){const e=Object(s.a)(["\n    --color-big-stone: #122236;\n    --color-big-stone-pale: rgba(18, 34, 54, 0.1);\n    --color-regent-gray: #82909e;\n    --color-mystic: #e4e9f0;\n\n    width: 320px;\n\n    > "," {\n        margin-top: 20px;\n\n        &:first-child {\n            margin-top: 0;\n        }\n\n        &:empty {\n            margin-top: 0;\n        }\n    }\n"]);return G=function(){return e},e}const K=l.a.article(G(),u),Q=l.a.h3(q());class U{constructor(e){this.key=e}getContacts(){const e=localStorage.getItem(this.key);try{const{contacts:n}=e?JSON.parse(e):{contacts:[]};return n}catch(n){throw console.error("Failed to parse contacts storage: ".concat(e,".")),n}}saveContacts(e){try{const n=JSON.stringify({contacts:e});localStorage.setItem(this.key,n)}catch(n){throw console.error("Failed to serialize contacts list."),n}}}const V=()=>{const[{search:e,contacts:n},t]=Object(a.useReducer)(w,x),r=Object(a.useRef)(new U("phonebook-v1"));Object(a.useEffect)(()=>{t({type:y.SET_CONTACTS,payload:{contacts:r.current.getContacts()}})},[]),Object(a.useEffect)(()=>{r.current.saveContacts(n)},[n]);const o=Object(a.useMemo)(()=>({search:e,contacts:n,dispatch:t}),[e,n,t]);return c.a.createElement(v.Provider,{value:o},c.a.createElement(K,null,c.a.createElement(Q,null,"Phonebook"),c.a.createElement(k,null),c.a.createElement(A,null),c.a.createElement($,null)))};function X(){const e=Object(s.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 20px;\n    padding: 20px;\n    box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.2);\n    border-radius: 2px;\n    background: ",";\n"]);return X=function(){return e},e}function Y(){const e=Object(s.a)(["\n    margin: 0;\n    font-size: 20px;\n"]);return Y=function(){return e},e}function Z(){const e=Object(s.a)(["\n    min-width: 400px;\n    max-width: 768px;\n    margin: 0 auto;\n    padding: 60px 20px 60px;\n\n    > "," {\n        margin-top: 50px;\n\n        & + & {\n            margin-top: 40px;\n        }\n\n        &:first-child {\n            margin-top: 0;\n        }\n    }\n"]);return Z=function(){return e},e}function ee(){const e=Object(s.a)([""]);return ee=function(){return e},e}function ne(){const e=Object(s.a)(["\n    margin: 0;\n    font-size: 24px;\n"]);return ne=function(){return e},e}const te=l.a.h1(ne()),ae=l.a.section(ee()),ce=l.a.main(Z(),ae),re=l.a.h2(Y()),oe=l.a.div(X(),({bg:e})=>e||"#ffffff"),se=()=>c.a.createElement(ae,null,c.a.createElement(re,null,"Telephone book"),c.a.createElement(oe,{bg:"skyblue"},c.a.createElement(V,null))),le=()=>c.a.createElement(ce,null,c.a.createElement(te,null,"Homework 02 \u2013 Ex. 02"),c.a.createElement(se,null));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[12,1,2]]]);
//# sourceMappingURL=main.95d63b8b.chunk.js.map